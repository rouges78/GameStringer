#![cfg_attr(
    all(not(debug_assertions), target_os = "windows"),
    windows_subsystem = "windows"
)]

mod models;
mod commands;

fn main() {
    tauri::Builder::default()
        .invoke_handler(tauri::generate_handler![
            commands::steam::auto_detect_steam_config,
            commands::steam::test_steam_connection,
            commands::steam::disconnect_steam,
            commands::steam::get_steam_games,
            commands::steam::fix_steam_id,
            commands::steam::get_game_details,
            commands::steam::get_steam_cover,
            commands::steam::get_steam_covers_batch,
            commands::steam::save_steam_credentials,
            commands::steam::load_steam_credentials,
            commands::steam::clear_steam_credentials,
            commands::steam::save_steam_connection_status,
            commands::steam::load_steam_connection_status,
            commands::steam::remove_steam_credentials,
            commands::steam::auto_connect_steam,
            commands::steam::force_refresh_steam_games,
            commands::steam::debug_steam_api_raw,
            commands::steam::debug_steam_api,
            commands::steam::debug_steam_api_extended,
            commands::steam::debug_steam_profile,
            commands::steam::add_game_to_library,
            commands::steam::get_steam_games_fast,
            commands::steam::get_all_local_steam_games,
            commands::steam::debug_steam_paths,
            commands::steam::test_single_acf,
            commands::steam::parse_shared_config_vdf,
            commands::steam::get_family_sharing_games,
            commands::steam::get_steam_games_with_family_sharing,
            // Steam Enhanced (steamlocate-rs integration)
            commands::steam_enhanced::scan_steam_with_steamlocate,
            commands::steam_enhanced::find_steam_game_by_id,
            commands::steam_enhanced::get_enhanced_steam_info,
            commands::steam_enhanced::test_steamlocate_integration,
            commands::epic::get_epic_game_details,
            commands::epic::get_epic_game_cover,
            commands::epic::get_epic_covers_batch,
            commands::epic::test_epic_connection,
            commands::epic::disconnect_epic,
            commands::epic::clear_epic_cache,
            commands::epic::get_epic_games_web,
            commands::epic::get_epic_games_by_account_id,
            commands::epic::get_epic_games_complete,
            commands::epic::check_legendary_status,
            commands::epic::install_legendary,
            commands::epic::authenticate_legendary,
            commands::epic::save_epic_credentials,
            commands::epic::load_epic_credentials,
            commands::epic::clear_epic_credentials,
            commands::gog::get_gog_game_details,
            commands::gog::search_gog_game,
            commands::gog::get_gog_game_cover,
            commands::gog::get_gog_covers_batch,
            commands::gog::test_gog_connection,
            commands::gog::connect_gog,
            commands::gog::save_gog_credentials,
            commands::gog::load_gog_credentials,
            commands::gog::clear_gog_credentials,
            commands::gog::disconnect_gog,
            commands::origin::test_origin_connection,
            commands::origin::connect_origin,
            commands::origin::save_origin_credentials,
            commands::origin::load_origin_credentials,
            commands::origin::clear_origin_credentials,
            commands::origin::get_origin_game_info,
            commands::origin::get_origin_covers_batch,
            commands::ubisoft::test_ubisoft_connection,
            commands::ubisoft::connect_ubisoft,
            commands::ubisoft::save_ubisoft_credentials,
            commands::ubisoft::load_ubisoft_credentials,
            commands::ubisoft::clear_ubisoft_credentials,
            commands::ubisoft::get_ubisoft_game_info,
            commands::ubisoft::get_ubisoft_covers_batch,
            commands::battlenet::test_battlenet_connection,
            commands::battlenet::connect_battlenet,
            commands::battlenet::save_battlenet_credentials,
            commands::battlenet::load_battlenet_credentials,
            commands::battlenet::clear_battlenet_credentials,
            commands::battlenet::disconnect_battlenet,
            commands::battlenet::get_battlenet_game_info,
            commands::battlenet::get_battlenet_covers_batch,
            commands::itchio::test_itchio_connection,
            commands::itchio::connect_itchio,
            commands::itchio::save_itchio_credentials,
            commands::itchio::load_itchio_credentials,
            commands::itchio::clear_itchio_credentials,
            commands::itchio::get_itchio_game_info,
            commands::itchio::get_itchio_covers_batch,
            commands::rockstar::test_rockstar_connection,
            commands::rockstar::connect_rockstar,
            commands::rockstar::save_rockstar_credentials,
            commands::rockstar::load_rockstar_credentials,
            commands::rockstar::clear_rockstar_credentials,
            commands::rockstar::get_rockstar_game_info,
            commands::rockstar::get_rockstar_covers_batch,
            commands::library::get_library_games,
            commands::library::get_game_path,
            commands::library::read_game_file,
            commands::library::scan_game_files,
            commands::games::get_games,
            commands::games::get_games_fast,
            commands::games::force_refresh_all_games,
            commands::games::get_game_by_id,
            commands::games::scan_games,
            commands::utilities::get_howlongtobeat_info,
            commands::utilities::get_steamgriddb_artwork,
            commands::utilities::get_preferences,
            commands::utilities::update_preferences,
            commands::utilities::clear_cache,
            commands::utilities::get_cache_stats,
            commands::patches::get_patches,
            commands::patches::create_patch,
            commands::patches::update_patch,
            commands::patches::export_patch,
            commands::patches::translate_text,
            commands::patches::get_translation_suggestions,
            commands::patches::export_translations,
            commands::patches::import_translations,
            commands::injekt::start_injection,
            commands::injekt::stop_injection,
            commands::injekt::get_injection_stats,
            commands::injekt::test_injection,
            commands::injekt::get_processes,
            commands::injekt::get_process_info,
            commands::injekt::inject_translation,
            commands::injekt::scan_process_memory
        ])
        .run(tauri::generate_context!())
        .expect("error while running tauri application");
}
